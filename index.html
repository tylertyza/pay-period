<!DOCTYPE html>
<html lang="en" class="dark">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pay Period Allocator</title>
  <link rel="stylesheet" href="public/css/styles.css">
  <link rel="stylesheet" href="public/css/custom.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
  <div id="app" class="min-h-screen flex flex-col">
    <!-- Auth Container (shown when not logged in) -->
    <div id="auth-container" class="flex-1 flex items-center justify-center p-4">
      <div class="card max-w-md w-full">
        <div class="text-center mb-6">
          <h1 class="text-2xl font-bold text-primary-600 dark:text-primary-400">Pay Period Allocator</h1>
          <p class="text-gray-600 dark:text-gray-400 mt-2">Sign in to manage your expenses</p>
        </div>
        
        <div id="auth-form">
          <div class="mb-4">
            <label for="email" class="label">Email</label>
            <input type="email" id="email" class="input" placeholder="your@email.com">
          </div>
          
          <div class="mb-6">
            <label for="password" class="label">Password</label>
            <input type="password" id="password" class="input" placeholder="••••••••">
          </div>
          
          <div class="mb-4 flex items-center">
            <input type="checkbox" id="remember-me" class="mr-2" checked>
            <label for="remember-me" class="text-sm text-gray-600 dark:text-gray-400">Remember me</label>
          </div>
          
          <button id="login-button" class="btn btn-primary w-full mb-4">Sign In</button>
          <button id="signup-button" class="btn btn-secondary w-full">Create Account</button>
          
          <div id="auth-error" class="mt-4 text-red-500 text-sm hidden"></div>
        </div>
      </div>
    </div>
    
    <!-- App Container (shown when logged in) -->
    <div id="app-container" class="flex-1 flex flex-col hidden">
      <!-- Header -->
      <header class="bg-white dark:bg-dark-100 shadow-sm">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center">
          <h1 class="text-xl font-bold text-primary-600 dark:text-primary-400">Pay Period Allocator</h1>
          
          <div class="flex items-center space-x-4">
            <div id="user-indicator" class="text-sm text-gray-600 dark:text-gray-400 flex items-center">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
              </svg>
              <span id="current-user-name">User</span>
            </div>
            <div class="relative flex items-center">
              <span class="text-sm text-gray-600 dark:text-gray-400 mr-2">Display:</span>
              <select id="frequency-selector" class="select py-1 pr-8 pl-3">
                <option value="daily">Daily</option>
                <option value="weekly">Weekly</option>
                <option value="biweekly" selected>Bi-Weekly</option>
                <option value="monthly">Monthly</option>
                <option value="yearly">Yearly</option>
                <option value="custom">Custom...</option>
              </select>
            </div>
            
            <button id="logout-button" class="btn btn-secondary py-1">Sign Out</button>
          </div>
        </div>
      </header>
      
      <!-- Main Content -->
      <main class="flex-1 max-w-7xl w-full mx-auto px-4 sm:px-6 lg:px-8 py-6">
        <!-- Tabs -->
        <div class="border-b border-gray-200 dark:border-gray-700 mb-6">
          <nav class="flex -mb-px">
            <button data-tab="dashboard" class="tab-button active px-4 py-2 font-medium text-sm border-b-2 border-primary-500 text-primary-600 dark:text-primary-400">Dashboard</button>
            <button data-tab="expenses" class="tab-button px-4 py-2 font-medium text-sm border-b-2 border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600">Expenses</button>
            <button data-tab="income" class="tab-button px-4 py-2 font-medium text-sm border-b-2 border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600">Income</button>
            <button data-tab="accounts" class="tab-button px-4 py-2 font-medium text-sm border-b-2 border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600">Accounts</button>
            <button data-tab="import" class="tab-button px-4 py-2 font-medium text-sm border-b-2 border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600">Import</button>
            <button data-tab="suggestions" class="tab-button px-4 py-2 font-medium text-sm border-b-2 border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600 relative">
              Notifications
              <span id="suggestions-indicator" class="absolute -top-2 right-0 bg-red-500 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center hidden">0</span>
            </button>
            <button data-tab="settings" class="tab-button px-4 py-2 font-medium text-sm border-b-2 border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600">Settings</button>
          </nav>
        </div>
        
        <!-- Tab Content -->
        <div id="tab-content">
          <!-- Dashboard Tab -->
          <div data-tab-content="dashboard" class="tab-content active">
            <div class="flex justify-between items-center mb-6">
              <h2 class="text-xl font-semibold">Dashboard</h2>
              <button id="toggle-view-mode" class="btn btn-secondary text-sm">View Mode: Monthly</button>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              <!-- Summary Card -->
              <div class="card">
                <h2 class="text-lg font-semibold mb-4">Summary</h2>
                <div id="summary-container" class="space-y-3">
                  <div class="flex justify-between">
                    <span data-label="total-income" class="text-gray-600 dark:text-gray-400">Total Income:</span>
                    <span id="total-income" class="font-medium">$0.00</span>
                  </div>
                  <div class="flex justify-between">
                    <span data-label="total-expenses" class="text-gray-600 dark:text-gray-400">Your Share of Expenses:</span>
                    <span id="total-expenses" class="font-medium">$0.00</span>
                  </div>
                  <div class="border-t border-gray-200 dark:border-gray-700 pt-2 mt-2">
                    <div class="flex justify-between">
                      <span data-label="net-remaining" class="text-gray-600 dark:text-gray-400">Net Remaining:</span>
                      <span id="net-remaining" class="font-medium text-green-500">$0.00</span>
                    </div>
                  </div>
                  <!-- Per pay period summary will be added here by JavaScript -->
                </div>
              </div>
              
              <!-- Accounts Allocation -->
              <div class="card">
                <h2 class="text-lg font-semibold mb-4">Account Allocations</h2>
                <div id="account-allocations" class="space-y-3">
                  <!-- Will be populated by JavaScript -->
                  <div class="text-gray-500 dark:text-gray-400 text-sm italic">No accounts found. Add accounts to see allocations.</div>
                </div>
              </div>
              
              <!-- Expense Categories -->
              <div class="card">
                <h2 class="text-lg font-semibold mb-4">Expense Categories</h2>
                <div id="expense-categories" class="space-y-3">
                  <!-- Will be populated by JavaScript -->
                  <div class="text-gray-500 dark:text-gray-400 text-sm italic">No expenses found. Add expenses to see categories.</div>
                </div>
              </div>
              
              <!-- Split Summary -->
              <div class="card">
                <h2 class="text-lg font-semibold mb-4">Split Summary</h2>
                <div id="split-summary" class="space-y-3">
                  <!-- Will be populated by JavaScript -->
                  <div class="text-gray-500 dark:text-gray-400 text-sm italic">No splits found. Add expenses with splits to see summary.</div>
                </div>
              </div>
            </div>
          </div>
          
          <!-- Expenses Tab -->
          <div data-tab-content="expenses" class="tab-content hidden">
            <div class="flex justify-between items-center mb-6">
              <h2 class="text-xl font-semibold">Expenses</h2>
              <button id="add-expense-button" class="btn btn-primary">Add Expense</button>
            </div>
            
            <div class="card">
              <div class="overflow-x-auto">
                <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-700">
                  <thead>
                    <tr>
                      <th data-sort="name" class="px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider">Name</th>
                      <th data-sort="amount" class="px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider">Amount</th>
                      <th data-sort="frequency" class="px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider">Frequency</th>
                      <th data-sort="account" class="px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider">Account</th>
                      <th data-sort="category" class="px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider">Category</th>
                      <th data-sort="split" class="px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider">Split</th>
                      <th data-sort="creator" class="px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider">Created By</th>
                      <th class="px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider">Actions</th>
                    </tr>
                  </thead>
                  <tbody id="expenses-table-body" class="divide-y divide-gray-200 dark:divide-gray-700">
                    <!-- Will be populated by JavaScript -->
                    <tr>
                      <td colspan="8" class="px-4 py-4 text-center text-gray-500 dark:text-gray-400 text-sm italic">No expenses found. Add an expense to get started.</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
            
            <!-- Add/Edit Expense Modal -->
            <div id="expense-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
              <div class="card max-w-lg w-full mx-4">
                <div class="flex justify-between items-center mb-4">
                  <h3 id="expense-modal-title" class="text-lg font-semibold">Add Expense</h3>
                  <button id="close-expense-modal" class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                  </button>
                </div>
                
                <form id="expense-form">
                  <input type="hidden" id="expense-id" name="expense-id">
                  
                  <div class="mb-4">
                    <label for="expense-name" class="label">Name</label>
                    <input type="text" id="expense-name" name="expense-name" class="input" placeholder="e.g. Rent, Groceries, etc.">
                  </div>
                  
                  <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                    <div>
                      <label for="expense-amount" class="label">Amount</label>
                      <input type="number" id="expense-amount" name="expense-amount" class="input" placeholder="0.00" step="0.01" min="0">
                    </div>
                    
                    <div>
                      <label for="expense-frequency" class="label">Frequency</label>
                      <select id="expense-frequency" name="expense-frequency" class="select">
                        <option value="daily">Daily</option>
                        <option value="weekly">Weekly</option>
                        <option value="biweekly" selected>Bi-Weekly</option>
                        <option value="monthly">Monthly</option>
                        <option value="quarterly">Quarterly</option>
                        <option value="yearly">Yearly</option>
                      </select>
                    </div>
                  </div>
                  
                  <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                    <div>
                      <label for="expense-account" class="label">Account</label>
                      <select id="expense-account" name="expense-account" class="select">
                        <!-- Will be populated by JavaScript -->
                      </select>
                    </div>
                    
                    <div>
                      <label for="expense-category" class="label">Category</label>
                      <select id="expense-category" name="expense-category" class="select">
                        <!-- Will be populated by JavaScript -->
                      </select>
                    </div>
                  </div>
                  
                  <div class="mb-4">
                    <label for="expense-split" class="label">Split</label>
                    <div class="mb-2">
                      <select id="expense-split-type" name="expense-split-type" class="select mb-2">
                        <option value="equal">Split Equally</option>
                        <option value="per-dollar">Custom Split</option>
                        <option value="me">Just Me</option>
                      </select>
                    </div>
                    <div id="expense-split-container" class="space-y-2">
                      <!-- Split users will be displayed here -->
                    </div>
                  </div>
                  
                  <div class="flex justify-end space-x-3">
                    <button type="button" id="cancel-expense" class="btn btn-secondary">Cancel</button>
                    <button type="submit" id="save-expense" class="btn btn-primary">Save</button>
                  </div>
                </form>
              </div>
            </div>
          </div>
          
          <!-- Income Tab -->
          <div data-tab-content="income" class="tab-content hidden">
            <div class="flex justify-between items-center mb-6">
              <h2 class="text-xl font-semibold">Income</h2>
              <button id="add-income-button" class="btn btn-primary">Add Income</button>
            </div>
            
            <div class="card">
              <div class="overflow-x-auto">
                <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-700">
                  <thead>
                    <tr>
                      <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider">Source</th>
                      <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider">Amount</th>
                      <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider">Frequency</th>
                      <th class="px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider">Actions</th>
                    </tr>
                  </thead>
                  <tbody id="income-table-body" class="divide-y divide-gray-200 dark:divide-gray-700">
                    <!-- Will be populated by JavaScript -->
                    <tr>
                      <td colspan="4" class="px-4 py-4 text-center text-gray-500 dark:text-gray-400 text-sm italic">No income found. Add income to get started.</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
            
            <!-- Add/Edit Income Modal -->
            <div id="income-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
              <div class="card max-w-lg w-full mx-4">
                <div class="flex justify-between items-center mb-4">
                  <h3 id="income-modal-title" class="text-lg font-semibold">Add Income</h3>
                  <button id="close-income-modal" class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                  </button>
                </div>
                
                <form id="income-form">
                  <input type="hidden" id="income-id" name="income-id">
                  
                  <div class="mb-4">
                    <label for="income-source" class="label">Source</label>
                    <input type="text" id="income-source" name="income-source" class="input" placeholder="e.g. Salary, Freelance, etc.">
                  </div>
                  
                  <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                    <div>
                      <label for="income-amount" class="label">Amount</label>
                      <input type="number" id="income-amount" name="income-amount" class="input" placeholder="0.00" step="0.01" min="0">
                    </div>
                    
                    <div>
                      <label for="income-frequency" class="label">Frequency</label>
                      <select id="income-frequency" name="income-frequency" class="select">
                        <option value="daily">Daily</option>
                        <option value="weekly">Weekly</option>
                        <option value="biweekly" selected>Bi-Weekly</option>
                        <option value="monthly">Monthly</option>
                        <option value="quarterly">Quarterly</option>
                        <option value="yearly">Yearly</option>
                      </select>
                    </div>
                  </div>
                  
                  <div class="flex justify-end space-x-3">
                    <button type="button" id="cancel-income" class="btn btn-secondary">Cancel</button>
                    <button type="submit" id="save-income" class="btn btn-primary">Save</button>
                  </div>
                </form>
              </div>
            </div>
          </div>
          
          <!-- Accounts Tab -->
          <div data-tab-content="accounts" class="tab-content hidden">
            <div class="flex justify-between items-center mb-6">
              <h2 class="text-xl font-semibold">Accounts</h2>
              <button id="add-account-button" class="btn btn-primary">Add Account</button>
            </div>
            
            <div class="card">
              <div class="overflow-x-auto">
                <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-700">
                  <thead>
                    <tr>
                      <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider">Name</th>
                      <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider">Type</th>
                      <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider">Ownership</th>
                      <th class="px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider">Actions</th>
                    </tr>
                  </thead>
                  <tbody id="accounts-table-body" class="divide-y divide-gray-200 dark:divide-gray-700">
                    <!-- Will be populated by JavaScript -->
                    <tr>
                      <td colspan="4" class="px-4 py-4 text-center text-gray-500 dark:text-gray-400 text-sm italic">No accounts found. Add an account to get started.</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
            
            <!-- Add/Edit Account Modal -->
            <div id="account-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
              <div class="card max-w-lg w-full mx-4">
                <div class="flex justify-between items-center mb-4">
                  <h3 id="account-modal-title" class="text-lg font-semibold">Add Account</h3>
                  <button id="close-account-modal" class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                  </button>
                </div>
                
                <form id="account-form">
                  <input type="hidden" id="account-id" name="account-id">
                  
                  <div class="mb-4">
                    <label for="account-name" class="label">Name</label>
                    <input type="text" id="account-name" name="account-name" class="input" placeholder="e.g. Spending, Bills, etc.">
                  </div>
                  
                  <div class="mb-4">
                    <label for="account-type" class="label">Type</label>
                    <select id="account-type" name="account-type" class="select">
                      <option value="checking">Checking</option>
                      <option value="savings">Savings</option>
                      <option value="credit">Credit Card</option>
                      <option value="investment">Investment</option>
                      <option value="other">Other</option>
                    </select>
                  </div>
                  
                  <div class="mb-6">
                    <label class="label">Ownership</label>
                    <div class="space-y-2">
                      <div class="flex items-center">
                        <input type="checkbox" id="account-owner-self" name="account-owner-self" class="mr-2" checked disabled>
                        <label for="account-owner-self" class="text-sm text-gray-700 dark:text-gray-300">Me</label>
                      </div>
                      <div id="shared-users-container">
                        <!-- Shared users will be listed here -->
                      </div>
                      <div class="mt-3">
                        <label for="invite-email" class="text-sm text-gray-700 dark:text-gray-300 mb-1 block">Invite User by Email</label>
                        <div class="flex space-x-2">
                          <input type="email" id="invite-email" name="invite-email" class="input" placeholder="user@example.com">
                          <button type="button" id="add-user-button" class="btn btn-secondary">Add</button>
                        </div>
                      </div>
                    </div>
                  </div>
                  
                  <div class="flex justify-end space-x-3">
                    <button type="button" id="cancel-account" class="btn btn-secondary">Cancel</button>
                    <button type="submit" id="save-account" class="btn btn-primary">Save</button>
                  </div>
                </form>
              </div>
            </div>
          </div>
          
          <!-- Import Tab -->
          <div data-tab-content="import" class="tab-content hidden">
            <div class="grid grid-cols-1 gap-6">
              <div class="card">
                <h2 class="text-xl font-semibold mb-4">Import Data</h2>
                <p class="text-gray-600 dark:text-gray-400 mb-4">
                  Import your expenses and income from a CSV file. The file should have the following columns:
                </p>
                <div class="bg-gray-100 dark:bg-dark-300 p-3 rounded-md mb-4 overflow-x-auto">
                  <code class="text-sm">Name, Amount, Frequency, Account, Category, Split</code>
                </div>
                <div class="mb-4">
                  <label for="import-file" class="label">Select File</label>
                  <input type="file" id="import-file" accept=".csv,.xlsx,.xls" class="input">
                </div>
                <button id="import-button" class="btn btn-primary">Import</button>
              </div>
              
              <div class="card">
                <h2 class="text-xl font-semibold mb-4">Export Data</h2>
                <p class="text-gray-600 dark:text-gray-400 mb-4">
                  Export your data to CSV files for backup or analysis.
                </p>
                <div class="flex flex-wrap gap-2">
                  <button id="export-expenses-button" class="btn btn-secondary">Export Expenses</button>
                  <button id="export-income-button" class="btn btn-secondary">Export Income</button>
                  <button id="export-all-button" class="btn btn-primary">Export All</button>
                </div>
              </div>
            </div>
          </div>
          
          <!-- Suggestions Tab -->
          <div data-tab-content="suggestions" class="tab-content hidden">
            <div class="grid grid-cols-1 gap-6">
              <div class="card">
                <h2 class="text-xl font-semibold mb-4">Notifications</h2>
                <p class="text-gray-600 dark:text-gray-400 mb-4">
                  Review and respond to expense split suggestions and other notifications.
                </p>
                <div id="split-suggestions-container" class="space-y-4">
                  <!-- Will be populated by JavaScript -->
                  <div class="text-gray-500 dark:text-gray-400 text-sm italic">
                    No pending notifications.
                  </div>
                </div>
              </div>
            </div>
          </div>
          
          <!-- Settings Tab -->
          <div data-tab-content="settings" class="tab-content hidden">
            <h2 class="text-xl font-semibold mb-6">Account Settings</h2>
            
            <div class="card mb-6">
              <h3 class="text-lg font-medium mb-4">User Profile</h3>
              
              <form id="profile-form" class="space-y-4">
                <div>
                  <label for="profile-name" class="label">Name</label>
                  <input type="text" id="profile-name" name="profile-name" class="input">
                </div>
                
                <div>
                  <label for="profile-email" class="label">Email</label>
                  <input type="email" id="profile-email" name="profile-email" class="input" disabled>
                </div>
                
                <div>
                  <button type="submit" id="save-profile" class="btn btn-primary">Save Profile</button>
                </div>
                
                <div id="profile-error" class="text-red-500 text-sm hidden"></div>
                <div id="profile-success" class="text-green-500 text-sm hidden"></div>
              </form>
            </div>
            
            <div class="card mb-6">
              <h3 class="text-lg font-medium mb-4">Change Password</h3>
              
              <form id="password-form" class="space-y-4">
                <div>
                  <label for="current-password" class="label">Current Password</label>
                  <input type="password" id="current-password" name="current-password" class="input">
                </div>
                
                <div>
                  <label for="new-password" class="label">New Password</label>
                  <input type="password" id="new-password" name="new-password" class="input">
                </div>
                
                <div>
                  <label for="confirm-password" class="label">Confirm New Password</label>
                  <input type="password" id="confirm-password" name="confirm-password" class="input">
                </div>
                
                <div>
                  <button type="submit" id="change-password" class="btn btn-primary">Change Password</button>
                </div>
                
                <div id="password-error" class="text-red-500 text-sm hidden"></div>
                <div id="password-success" class="text-green-500 text-sm hidden"></div>
              </form>
            </div>
            
            <div class="card">
              <h3 class="text-lg font-medium mb-4">App Preferences</h3>
              
              <div class="space-y-4">
                <div class="flex items-center justify-between">
                  <span class="text-gray-700 dark:text-gray-300">Dark Mode</span>
                  <button id="toggle-dark-mode" class="btn btn-secondary py-1">Toggle Dark Mode</button>
                </div>
                
                <div class="flex items-center justify-between">
                  <span class="text-gray-700 dark:text-gray-300">Default Frequency</span>
                  <select id="default-frequency" class="select w-auto">
                    <option value="daily">Daily</option>
                    <option value="weekly">Weekly</option>
                    <option value="biweekly" selected>Bi-Weekly</option>
                    <option value="monthly">Monthly</option>
                    <option value="yearly">Yearly</option>
                  </select>
                </div>
              </div>
            </div>
          </div>
        </div>
      </main>
      
      <!-- Footer -->
      <footer class="bg-white dark:bg-dark-100 border-t border-gray-200 dark:border-gray-800">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4">
          <p class="text-center text-sm text-gray-500 dark:text-gray-400">
            Pay Period Allocator &copy; 2023
          </p>
        </div>
      </footer>
    </div>
  </div>
  
  <!-- Custom Frequency Modal -->
  <div id="custom-frequency-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
    <div class="card max-w-md w-full mx-4">
      <div class="flex justify-between items-center mb-4">
        <h3 class="text-lg font-semibold">Custom Frequency</h3>
        <button id="close-frequency-modal" class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
      </div>
      
      <form id="custom-frequency-form">
        <div class="grid grid-cols-2 gap-4 mb-6">
          <div>
            <label for="frequency-value" class="label">Every</label>
            <input type="number" id="frequency-value" name="frequency-value" class="input" min="1" value="1">
          </div>
          
          <div>
            <label for="frequency-unit" class="label">Unit</label>
            <select id="frequency-unit" name="frequency-unit" class="select">
              <option value="days">Days</option>
              <option value="weeks">Weeks</option>
              <option value="months">Months</option>
              <option value="years">Years</option>
            </select>
          </div>
        </div>
        
        <div class="flex justify-end space-x-3">
          <button type="button" id="cancel-frequency" class="btn btn-secondary">Cancel</button>
          <button type="submit" id="save-frequency" class="btn btn-primary">Apply</button>
        </div>
      </form>
    </div>
  </div>
  
  <!-- Confirmation Modal -->
  <div id="confirmation-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
    <div class="card max-w-md w-full mx-4">
      <div class="mb-4">
        <h3 id="confirmation-title" class="text-lg font-semibold">Confirm Action</h3>
        <p id="confirmation-message" class="text-gray-600 dark:text-gray-400 mt-2">Are you sure you want to proceed with this action?</p>
      </div>
      
      <div class="flex justify-end space-x-3">
        <button id="cancel-confirmation" class="btn btn-secondary">Cancel</button>
        <button id="confirm-action" class="btn btn-primary">Confirm</button>
      </div>
    </div>
  </div>
  
  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.38.4/dist/umd/supabase.min.js"></script>
  <script>
    // Initialize Supabase client with environment variables
    function initSupabase() {
      const SUPABASE_URL = window.SUPABASE_URL || 'your-supabase-url';
      const SUPABASE_ANON_KEY = window.SUPABASE_ANON_KEY || 'your-supabase-anon-key';
      
      console.log('Initializing Supabase with URL:', SUPABASE_URL);
      window.supabase = supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY, {
        auth: {
          persistSession: true,
          storage: localStorage
        }
      });
      
      // Initialize the app after Supabase is ready
      if (document.readyState === 'complete' || document.readyState === 'interactive') {
        setTimeout(initApp, 1);
      } else {
        document.addEventListener('DOMContentLoaded', initApp);
      }
    }
    
    // Load environment variables if available
    fetch('/.env')
      .then(response => response.text())
      .then(text => {
        const lines = text.split('\n');
        lines.forEach(line => {
          if (line.trim() && !line.startsWith('#')) {
            const [key, value] = line.split('=');
            if (key && value) {
              window[key.trim()] = value.trim();
            }
          }
        });
        
        // Initialize Supabase after loading environment variables
        initSupabase();
      })
      .catch(error => {
        console.warn('Could not load .env file:', error);
        // Initialize anyway with whatever values we have
        initSupabase();
      });
  </script>
  <script src="src/js/config.js"></script>
  <script src="src/js/utils.js"></script>
  <script src="src/js/auth.js"></script>
  <script src="src/js/expenses.js"></script>
  <script src="src/js/income.js"></script>
  <script src="src/js/accounts.js"></script>
  <script src="src/js/dashboard.js"></script>
  <script src="src/js/import.js"></script>
  <script src="src/js/notifications.js"></script>
  <script src="src/js/app.js"></script>
</body>
</html> 